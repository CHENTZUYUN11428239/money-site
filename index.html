<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <title>零用錢記帳小管家</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="container">
    <header>
      <h1>零用錢記帳小管家</h1>
      <p class="subtitle">理清金錢去向，更好管理零用錢 🧾💰</p>
      
      <!-- 顏色選擇按鈕 -->
      <button id="color-picker-btn" class="color-picker-btn" title="更換背景顏色">🎨</button>
      
      <!-- 顏色選擇面板 -->
      <div id="color-picker-panel" class="color-picker-panel">
        <div class="color-option" data-color="#f5f6f8" style="background: #f5f6f8;" title="預設灰白"></div>
        <div class="color-option" data-color="#e8f4f8" style="background: #e8f4f8;" title="淺藍"></div>
        <div class="color-option" data-color="#f0f8e8" style="background: #f0f8e8;" title="淺綠"></div>
        <div class="color-option" data-color="#fef5e7" style="background: #fef5e7;" title="淺黃"></div>
        <div class="color-option" data-color="#fce8f3" style="background: #fce8f3;" title="淺粉"></div>
        <div class="color-option" data-color="#f0e8f8" style="background: #f0e8f8;" title="淺紫"></div>
        <div class="color-option" data-color="#ffffff" style="background: #ffffff;" title="純白"></div>
        <div class="color-option" data-color="#e8e8e8" style="background: #e8e8e8;" title="淺灰"></div>
      </div>
    </header>

    <!-- 圓餅圖區塊（取代月曆） -->
    <section class="box" id="chart-section">
      <h3>收支圓餅圖</h3>
      <p class="subtitle small">一眼看出收入與支出比例</p>
      <div class="chart-wrap">
        <canvas id="pieChart"></canvas>
      </div>
    </section>

    <!-- 總覽 -->
    <section id="summary" class="summary">
      <div class="card">
        <div class="card-title">總收入</div>
        <div id="total-income" class="kpi income">0</div>
      </div>
      <div class="card">
        <div class="card-title">總支出</div>
        <div id="total-expense" class="kpi expense">0</div>
      </div>
      <div class="card">
        <div class="card-title">目前結餘</div>
        <div id="balance" class="kpi balance">0</div>
      </div>
    </section>

    <!-- 新增紀錄 -->
    <section class="box">
      <h3>新增收支紀錄</h3>
      <form id="tx-form">
        <div class="row">
          <select name="type" required>
            <option value="支出">支出</option>
            <option value="收入">收入</option>
          </select>

          <input type="number" name="amount" placeholder="金額" min="0" step="1" required />

          <select name="category" required>
            <option>飲食</option>
            <option>交通</option>
            <option>娛樂</option>
            <option>其他</option>
          </select>

          <input type="date" name="date" id="date-input" required />
        </div>

        <textarea name="note" placeholder="備註（可留空）"></textarea>

        <div class="actions">
          <button class="btn primary" type="submit">新增</button>
          <button class="btn danger" type="button" id="clear-all-btn">清空所有紀錄</button>
        </div>
      </form>
    </section>

    <!-- 收支紀錄 -->
    <section id="records" class="box">
      <h3>收支紀錄</h3>
      <div class="table-wrap">
        <table>
          <thead>
            <tr>
              <th>日期</th>
              <th>類型</th>
              <th class="num">金額</th>
              <th>分類</th>
              <th>備註</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="tx-tbody"></tbody>
        </table>
      </div>
    </section>
  </div>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="app.js"></script>
</body>
</html>
